# Mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –û–ø–∏—Å–∞–Ω–∏–µ

Mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å OpenShift Controller –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ OpenShift –∫–ª–∞—Å—Ç–µ—Ä–∞. –û–Ω–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∑–∞–≥–ª—É—à–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–ø–æ–¥—ã, deployments, namespaces) –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

## –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### –°–ø–æ—Å–æ–± 1: –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏: `http://localhost:8080/connection/setup`
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"üß™ –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"**
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"**
4. Mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –°–ø–æ—Å–æ–± 2: –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É
2. –£–∫–∞–∂–∏—Ç–µ –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–æ–ª—è—Ö (–¥–ª—è mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ–Ω–∏ –Ω–µ –≤–∞–∂–Ω—ã):
   - URL: –Ω–∞–ø—Ä–∏–º–µ—Ä, `mock://test-cluster`
   - –¢–æ–∫–µ–Ω: –Ω–∞–ø—Ä–∏–º–µ—Ä, `mock-token`
   - Namespace: –Ω–∞–ø—Ä–∏–º–µ—Ä, `test-project`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–ª–∞–∂–æ–∫ **"–≠—Ç–æ mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"**
4. –ù–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"**

## –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### Namespaces

Mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ namespaces:
- `test-project` - —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
- `staging` - staging –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- `production` - production –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- `development` - development –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### –ü–æ–¥—ã

–í –∫–∞–∂–¥–æ–º namespace –µ—Å—Ç—å –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–¥–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏:

**test-project:**
- `web-app-1`, `web-app-2` - —Å—Ç–∞—Ç—É—Å Running
- `api-service-1` - —Å—Ç–∞—Ç—É—Å Running
- `db-pod` - —Å—Ç–∞—Ç—É—Å Running

**staging:**
- `staging-web-1`, `staging-api-1` - —Å—Ç–∞—Ç—É—Å Running
- `staging-worker` - —Å—Ç–∞—Ç—É—Å Pending

**production:**
- `prod-web-1`, `prod-web-2`, `prod-web-3` - —Å—Ç–∞—Ç—É—Å Running
- `prod-api-1`, `prod-api-2` - —Å—Ç–∞—Ç—É—Å Running
- `prod-db-primary` - —Å—Ç–∞—Ç—É—Å Running

**development:**
- `dev-app-1` - —Å—Ç–∞—Ç—É—Å Running
- `dev-app-2` - —Å—Ç–∞—Ç—É—Å CrashLoopBackOff

### Deployments

–í –∫–∞–∂–¥–æ–º namespace –µ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ deployments:
- `web-app`, `api-service`, `database` (test-project)
- `staging-web`, `staging-api`, `staging-worker` (staging)
- `prod-web`, `prod-api`, `prod-database` (production)
- `dev-app` (development)

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å —Ñ–ª–∞–≥–æ–º `isMock = true`, –æ–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –Ω–æ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ mock.

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ mock-–¥–∞–Ω–Ω—ã—Ö:** –ö–æ–≥–¥–∞ mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ, –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (`PodService`, `NamespaceService`, `DeploymentService`) –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ñ–ª–∞–≥ `isMock` –∏ –≤–º–µ—Å—Ç–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É OpenShift API –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `MockDataService`.

3. **–û–ø–µ—Ä–∞—Ü–∏–∏:** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ–¥–æ–≤, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ deployments –∏ —Ç.–¥.) –≤ mock-—Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –∫–ª–∞—Å—Ç–µ—Ä–µ.

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ OpenShift –∫–ª–∞—Å—Ç–µ—Ä–∞
- ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ä–∏—Å–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- ‚ùå Mock-–¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–Ω—ã –∏ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- ‚ùå –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–ª–∞—Å—Ç–µ—Ä–æ–º
- ‚ùå –ù–µ –∏–º–∏—Ç–∏—Ä—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ Kubernetes API

## –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

–í—ã –º–æ–∂–µ—Ç–µ –∏–º–µ—Ç—å –∫–∞–∫ mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, —Ç–∞–∫ –∏ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:
1. –°–æ–∑–¥–∞–π—Ç–µ mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∞—Å—Ç–µ—Ä–æ–º
3. –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –Ω–∏–º–∏ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É **"–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"** –≤ —Å–ø–∏—Å–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- Mock-–¥–∞–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ `MockDataService`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ mock-—Ä–µ–∂–∏–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ —á–µ—Ä–µ–∑ `OpenShiftClientService.getActiveConnection()`
- Mock-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–µ —Å–æ–∑–¥–∞—é—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ OpenShift –∫–ª–∏–µ–Ω—Ç–∞, –≤–æ–∑–≤—Ä–∞—â–∞—è `Optional.empty()`

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/connection/setup`
3. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"**
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/`
5. –í—ã–±–µ—Ä–∏—Ç–µ namespace (–Ω–∞–ø—Ä–∏–º–µ—Ä, `test-project`)
6. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–æ–¥–æ–≤ –∏ deployments
7. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ (–æ–Ω–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–∂–∏–º–µ –∑–∞–≥–ª—É—à–∫–∏)

